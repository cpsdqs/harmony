/*
 * Copyright (C) 2017 cpsdqs
 *
 * This file is part of Harmony.
 *
 * Harmony is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Harmony is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Harmony. If not, see <http://www.gnu.org/licenses/>.
 */

@import 'variables';

.panel {
  display: grid;
  grid-template-rows: 1fr 24px;

  .panel-menu {
    & > .rc-menu {
      height: 100%;
      box-shadow: none;

      & > .rc-menu-submenu > .rc-menu {
        z-index: 100;
      }
    }
  }

  .rc-menu {
    outline: none;
    list-style: none;
    margin: 0;
    box-sizing: border-box;
    padding: 4px 0;
    border-radius: 4px;
    background: #fff;
    color: #000;
    box-shadow: 0 4px 10px 0 rgba(0, 0, 0, 0.2);

    &.rc-menu-hidden {
      display: none;
    }

    .rc-menu-item, .rc-menu-submenu-title {
      padding: 3px 10px;
      white-space: nowrap;

      &.rc-menu-item-disabled {
        opacity: .5;
      }
    }

    &.rc-menu-vertical > .rc-menu-submenu > .rc-menu-submenu-title {
      padding-right: 18px;

      &::before {
        content: '';
        float: right;
        display: inline-block;
        width: 0;
        height: 0;
        border: 4px solid transparent;
        border-left-color: currentColor;
        margin-top: 1px;
        margin-right: -14px;
      }
    }

    .rc-menu-item:hover, .rc-menu-submenu-title:hover,
    .rc-menu-submenu-open > .rc-menu-submenu-title {
      background: @accent;
      color: #fff;
    }

    .rc-menu-submenu {
      position: relative;

      &.rc-menu-submenu-vertical > .rc-menu {
        position: absolute;
        top: -4px;
        left: 100%;
      }

      & > .rc-menu {
        min-width: 72px;
      }
    }

    &.rc-menu-horizontal {
      backdrop-filter: none;
      padding: 0 4px;
      border-radius: 0;

      & > .rc-menu-item,
      & > .rc-menu-submenu > .rc-menu-submenu-title {
        display: inline-block;
        height: 100%;
      }

      & > .rc-menu-submenu {
        display: inline-block;

        & > .rc-menu {
          position: absolute;
          border-top-left-radius: 0;
          border-top-right-radius: 0;
        }
      }

      &.submenu-above > .rc-menu-submenu > .rc-menu {
        border-radius: 4px;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        bottom: 100%;
      }
    }
  }
}
